var HtmlAlign;(function(n){var t,i,r,u,f,e;(function(n){n[n.Component=1]="Component";n[n.Child=2]="Child"})(t=n.CssPropertyContext||(n.CssPropertyContext={})),function(n){n[n.Auto=1]="Auto";n[n.Visible=2]="Visible";n[n.None=3]="None"}(i=n.Scroll||(n.Scroll={})),function(n){n[n.Left=1]="Left";n[n.Top=2]="Top";n[n.Right=3]="Right";n[n.Bottom=4]="Bottom";n[n.All=5]="All"}(r=n.Side||(n.Side={})),function(n){n[n.Start=1]="Start";n[n.Center=2]="Center";n[n.End=3]="End";n[n.Streach=4]="Streach"}(u=n.Align||(n.Align={})),function(n){n[n.Horizontal=1]="Horizontal";n[n.Vertical=2]="Vertical"}(f=n.Axis||(n.Axis={})),function(n){n[n.Fit=1]="Fit";n[n.Uniform=2]="Uniform";n[n.Horizontal=3]="Horizontal";n[n.Vertical=4]="Vertical"}(e=n.Fit||(n.Fit={}))})(HtmlAlign||(HtmlAlign={})),function(n){class t{constructor(n,t){this.H=n;this.V=t}static Default(){return new t(0,0)}Copy(){return new t(this.H,this.V)}CopyFrom(n){this.H=n.H;this.V=n.V}Get(t){return t==n.Axis.Horizontal?this.H:this.V}GetAwry(t){return t==n.Axis.Vertical?this.H:this.V}Set(t,i){t==n.Axis.Horizontal?this.H=i:this.V=i}SetAwry(t,i){t==n.Axis.Vertical?this.H=i:this.V=i}}n.Rect=t;class i{constructor(n,t){this.Displacement=n;this.Size=t}static Default(){return new i(0,0)}Copy(){return new i(this.Displacement,this.Size)}CopyFrom(n){this.Displacement=n.Displacement;this.Size=n.Size}}n.Space=i;class r{constructor(n,t){this.Start=n;this.End=t}Copy(){return new r(this.Start,this.End)}static Default(){return new r(0,0)}CopyFrom(n){this.Start=n.Start;this.End=n.End}Sum(){return this.Start+this.End}}n.Thickness=r;class u{constructor(n,t,i,r,u){if(this.Star=n,this.Min=t,this.MinIsPercent=i,this.Max=r,this.MaxIsPercent=u,this.MinIsPercent==this.MaxIsPercent&&this.Min>this.Max){var f=this.Min;this.Min=this.Max;this.Max=f}}static Default(){return new u(0,0,!1,Number.POSITIVE_INFINITY,!1)}Copy(){return new u(this.Star,this.Min,this.MinIsPercent,this.Max,this.MaxIsPercent)}CopyFrom(n){this.Star=n.Star;this.Min=n.Min;this.MinIsPercent=n.MinIsPercent;this.Max=n.Max;this.MaxIsPercent=n.MaxIsPercent}toString(){return this.Star>0?this.Star+"*":this.Max==Number.POSITIVE_INFINITY?this.Min==0?"~":this.Min+"~":this.Min==0?"~"+this.Max:this.Min==this.Max?this.Min.toString():this.Min+"~"+this.Max}}n.SizeRange=u;class f{constructor(n,t){this.Min=n;this.Max=t}static Default(){return new f(0,Number.POSITIVE_INFINITY)}Copy(){return new f(this.Min,this.Max)}CopyFrom(n){this.Min=n.Min;this.Max=n.Max}}n.SizeDelimiter=f}(HtmlAlign||(HtmlAlign={})),function(n){class t{constructor(){this.FatherIsPanel=!0;this.Visible=!0;this.Scroll=n.Scroll.None;this.Align=n.Align.Start;this.Size=n.SizeRange.Default();this.Margin=n.Thickness.Default();this.Border=n.Thickness.Default();this.Padding=n.Thickness.Default();this.IsComponentDelimiterChanged=!1;this.IsComponentDesiredChanged=!1;this.IsNeedMeasureAgain=!1;this.IsComponentDisplacementChanged=!1;this.IsComponentSizeChanged=!1;this.IsComponentSpaceChanged=!1;this._givedDelimiter=n.SizeDelimiter.Default();this._componentDelimiter=n.SizeDelimiter.Default();this._contentDelimiter=n.SizeDelimiter.Default();this._contentDesired=0;this._componentDesired=0;this._componentRequired=0;this._savedComponentDesired=0;this._givedSpace=n.Space.Default();this._componentSpace=n.Space.Default();this._contentSpace=n.Space.Default()}get GivedDelimiter(){return this._givedDelimiter}get ComponentDelimiter(){return this._componentDelimiter}get ContentDelimiter(){return this._contentDelimiter}get ContentDesired(){return this._contentDesired}get ComponentDesired(){return this._componentDesired}get ComponentRequired(){return this._componentRequired}get GivedSpace(){return this._givedSpace}get ComponentSpace(){return this._componentSpace}get ContentSpace(){return this._contentSpace}get IsFixed(){return this.Size.MinIsPercent==this.Size.MaxIsPercent&&this.Size.Star==0&&!this.Size.MinIsPercent&&this.Size.Min==this.Size.Max}get NeedArrange(){return this.IsComponentDesiredChanged||this.IsComponentDelimiterChanged&&(this.Size.MinIsPercent||this.Size.MaxIsPercent||this.Size.Star>0||this.Align==n.Align.Streach&&this.Size.Max==Number.POSITIVE_INFINITY)}get Star(){return this.Visible?this.Size.Star:0}set GivedDelimiter(t){var r,u,i;this._givedDelimiter.CopyFrom(t);r=this._componentDelimiter.Min;u=this._componentDelimiter.Max;this.Size.Star>0?this._componentDelimiter.CopyFrom(this._givedDelimiter):(this._componentDelimiter.Min=this.Size.MinIsPercent?this._givedDelimiter.Min*this.Size.Min/100:this.Size.Min+this.Margin.Sum(),this._componentDelimiter.Max=this.Size.MaxIsPercent?this._givedDelimiter.Max*this.Size.Max/100:this.Size.Max+this.Margin.Sum());this._componentDelimiter.Min>this._componentDelimiter.Max?this._componentDelimiter.Max=this._componentDelimiter.Min:this.Size.MinIsPercent&&!this.Size.MaxIsPercent&&(this._componentDelimiter.Min=this._componentDelimiter.Max);this.FatherIsPanel&&this.Size.Star==0&&this.GivedDelimiter.Max!=Number.POSITIVE_INFINITY&&this.Size.Max==Number.POSITIVE_INFINITY&&this.Align==n.Align.Streach&&this._componentDelimiter.Min<this._givedDelimiter.Max&&(this._componentDelimiter.Min=this._givedDelimiter.Max);i=this.Margin.Sum()+this.Border.Sum()+this.Padding.Sum();this.Scroll==n.Scroll.Visible&&(i+=17);this._contentDelimiter.Max=this._componentDelimiter.Max-i;this._contentDelimiter.Min=this._componentDelimiter.Min-i;this.Size.Star==0&&(this.Size.MinIsPercent&&this.Size.Min>100&&(this._componentDelimiter.Min=this._givedDelimiter.Min),this.Size.MaxIsPercent&&this.Size.Max>100&&(this._componentDelimiter.Max=this._givedDelimiter.Max));this.IsComponentDelimiterChanged=this._componentDelimiter.Min!=r||this._componentDelimiter.Max!=u}set ContentDesired(t){this._contentDesired=t;var i=this._componentRequired;this._componentDesired=this._contentDesired+this.Margin.Sum()+this.Border.Sum()+this.Padding.Sum();this.Scroll==n.Scroll.Visible&&(this._componentDesired+=17);this._componentRequired=this._componentDesired;this.FatherIsPanel&&this.Size.MaxIsPercent&&(this._savedComponentDesired=this._componentRequired,this._savedComponentDesired<this._componentDelimiter.Min&&(this._savedComponentDesired=this._componentDelimiter.Min),this._componentRequired=this._componentRequired*100/this.Size.Max);this._componentRequired<this._componentDelimiter.Min?this._componentRequired=this._componentDelimiter.Min:this._componentRequired>this._componentDelimiter.Max&&(this._componentRequired=this._componentDelimiter.Max);this.IsComponentDesiredChanged=this._componentRequired!=i}set GivedSpace(t){var u,f,i,r;if(this._givedSpace.CopyFrom(t),u=this._componentSpace.Displacement,f=this._componentSpace.Size,this.FatherIsPanel?(this.Size.MaxIsPercent?(this.ComponentSpace.Size=this._savedComponentDesired,(this.ComponentSpace.Size!=this.ComponentDelimiter.Min||this.Size.MinIsPercent)&&(i=this._givedSpace.Size*this.Size.Max/100,this._componentSpace.Size>i&&(this.IsNeedMeasureAgain=!0,this._componentSpace.Size=i))):this._componentSpace.Size=this._componentRequired,this.Size.MinIsPercent&&(r=this._givedSpace.Size*this.Size.Min/100,this._componentSpace.Size<r&&(this.IsNeedMeasureAgain=!0,this._componentSpace.Size=r))):this.Size.Star>0?(this._componentSpace.Size=this._givedSpace.Size,this._componentSpace.Size!=this._componentRequired&&(this.IsNeedMeasureAgain=!0)):this._componentSpace.Size=this._componentRequired,this.Size.Max==Number.POSITIVE_INFINITY&&this.Align==n.Align.Streach&&(this._componentSpace.Size=this._givedSpace.Size,this._componentSpace.Size!=this._componentRequired&&(this.IsNeedMeasureAgain=!0)),this.Scroll==n.Scroll.None||this._givedSpace.Size>this._componentSpace.Size)switch(this.Align){case n.Align.Center:this._componentSpace.Displacement=(this._givedSpace.Size-this._componentSpace.Size)/2;break;case n.Align.End:this._componentSpace.Displacement=this._givedSpace.Size-this._componentSpace.Size;break;default:this._componentSpace.Displacement=0}else this._componentSpace.Displacement=0;this._componentSpace.Size-=this.Margin.Sum();this._componentSpace.Displacement+=this._givedSpace.Displacement;this._contentSpace.Size=this._componentSpace.Size-this.Border.Sum()-this.Padding.Sum();this.Scroll==n.Scroll.Visible&&(this._contentSpace.Size-=17);this._contentSpace.Displacement=this.Padding.Start;this.IsComponentDisplacementChanged=this._componentSpace.Displacement!=u;this.IsComponentSizeChanged=this._componentSpace.Size!=f;this.IsComponentSpaceChanged=this.IsComponentDisplacementChanged||this.IsComponentSizeChanged}}n.Dimension=t}(HtmlAlign||(HtmlAlign={})),function(n){class t{constructor(i,r){if(this.Father=i,this.Element=r,this._isBehaviorChanged=!1,this._frozen=!1,this.H=new n.Dimension,this.V=new n.Dimension,this.Children=[],this.FatherAttached={},this._needMeasure=!0,this._needRefreshCssProperties=!1,this._characterDataChanged=!1,this._needArrange=!0,this._childNeedArrange=!0,this._addedElements=[],this._removedElements=[],this._changedCssProperties=[],this._canInformNeedArrangeInMeasure=!0,this.Element==undefined)this.Behavior=new n.LogicalBehavior,this.Behavior.Component=this;else if(this.Element.component=this,this.Element.attributes.hover!=null&&(this.Element.addEventListener("mouseover",()=>this.NotifyTagChanged()),this.Element.addEventListener("mouseout",()=>this.NotifyTagChanged())),n.Layout.RefreshValuesFromCssProperties(this),this.Behavior.Name!="in"&&this.Element.hasChildNodes)for(var u=this.Element.firstElementChild;u!=null;)n.Layout.IsBehavior(u)?this.Children.push(new t(this,u)):u.attributes["in"]!=null&&this.Children.push(new t(this,u)),u=u.nextElementSibling}get IsContent(){return this._isContent}get Behavior(){return this._behavior}set Behavior(n){this._behavior!=undefined&&this._behavior.Name!=n.Name&&(this._isBehaviorChanged=!0);(this._behavior==undefined||this._isBehaviorChanged)&&(this._behavior=n,this._isLogical=!1,this._isRoot=!1,this._isBehavior=!1,this._isContent=!1,this.Element==undefined?this._isLogical=!0:this.Element.tagName=="BODY"?this._isRoot=!0:this._behavior.Name=="in"?this._isContent=!0:this._isBehavior=!0);this.H.FatherIsPanel=this.V.FatherIsPanel=this.Father.Behavior.Name=="panel"||this.Father.Behavior.Name=="fit"}get Visible(){return this.H.Visible}set Visible(n){this.H.Visible=n;this.V.Visible=n}get HorizontalScroll(){return this.H.Scroll}get VerticalScroll(){return this.V.Scroll}set HorizontalScroll(n){this.H.Scroll=n}set VerticalScroll(n){this.V.Scroll=n}Frozen(){this._frozen=!0}Unfrozen(){this._frozen=!1;this.NotifyTagChanged();n.RefreshLayout()}Get(t){return t==n.Axis.Horizontal?this.H:this.V}GetAwry(t){return t==n.Axis.Vertical?this.H:this.V}Set(t,i){t==n.Axis.Horizontal?this.H=i:this.V=i}SetAwry(t,i){t==n.Axis.Vertical?this.H=i:this.V=i}get NeedArrange(){return this._needArrange||this._childNeedArrange}NotifyNeedMeasure(){this._frozen||(this._needMeasure?this._needMeasure=!0:(this._needMeasure=!0,this.Father.NotifyNeedMeasure()))}NotifyTagChanged(){this._needRefreshCssProperties=!0;this.NotifyNeedMeasure()}NotifyAdded(t){if(this._isContent){this.NotifyTagChanged();return}setTimeout(()=>{n.Layout.IsBehavior(t)&&(this._addedElements.push(t),n.Log.AddedElements++),this.Visible&&this.NotifyNeedMeasure()},16)}NotifyRemoved(t){if(this._isContent){this.NotifyTagChanged();return}n.Layout.IsBehavior(t)&&(this._removedElements.push(t),n.Log.RemovedElements++);this.Visible&&this.NotifyNeedMeasure()}NotifyCssPropertyChanged(n){this.Element.style.setProperty(n.Name,n.GetValueStringFromComponent(this));this.NotifyNeedMeasure()}NotifyToRefreshArrange(){this._needArrange=!0;this.NotifyArrange()}NotifyArrange(){this._childNeedArrange?this._childNeedArrange=!0:(this._childNeedArrange=!0,this.Father.NotifyArrange())}SetCssPropertyValue(n){this.Element.style.setProperty(n.Name,n.GetValueStringFromComponent(this))}get Width(){return{width:this.H.Size.Min,star:this.H.Size.Star,min:this.H.Size.Min,max:this.H.Size.Max}}set Width(t){typeof t=="number"?(this.H.Size.Star=0,this.H.Size.Min=t,this.H.Size.Max=t):typeof t=="object"&&(t.star!==undefined?this.H.Size.Star=t.star:t.width!==undefined?(this.H.Size.Star=0,this.H.Size.Min=t.width,this.H.Size.Max=t.width):(t.min!==undefined&&(this.H.Size.Star=0,this.H.Size.Min=t.min),t.max!==undefined&&(this.H.Size.Star=0,this.H.Size.Max=t.max),this.H.Size.Min>this.H.Size.Max&&(this.H.Size.Max=this.H.Size.Min)),this.NotifyCssPropertyChanged(n.PanelBehavior.SizeCssProperty))}get Height(){return{height:this.V.Size.Min,star:this.V.Size.Star,min:this.V.Size.Min,max:this.V.Size.Max}}set Height(t){typeof t=="number"?(this.V.Size.Star=0,this.V.Size.Min=t,this.V.Size.Max=t):typeof t=="object"&&(t.star!==undefined?this.V.Size.Star=t.star:t.height!==undefined?(this.V.Size.Star=0,this.V.Size.Min=t.height,this.V.Size.Max=t.height):(t.min!==undefined&&(this.V.Size.Star=0,this.V.Size.Min=t.min),t.max!==undefined&&(this.V.Size.Star=0,this.V.Size.Max=t.max),this.V.Size.Min>this.V.Size.Max&&(this.V.Size.Max=this.V.Size.Min)),this.NotifyCssPropertyChanged(n.PanelBehavior.SizeCssProperty))}Measure(i,r){var h,l,c,o,s,f,u,e,a;if(!this._frozen){if(this._needRefreshCssProperties){if(this._needRefreshCssProperties=!1,n.Layout.RefreshValuesFromCssProperties(this),this._isBehaviorChanged)for(this._isBehaviorChanged=!1,n.Layout.RefreshValuesFromCssProperties(this),f=0;f<this.Children.length;f++)this.Children[f].NotifyTagChanged();this._needArrange=!0;this.Father.NotifyToRefreshArrange()}if(this.H.GivedDelimiter=i,this.V.GivedDelimiter=r,this._needMeasure||this.H.IsComponentDelimiterChanged||this.V.IsComponentDelimiterChanged){if(this._isBehavior){if(h=this._removedElements.length,h>0){for(f=0;f<h;f++)u=this._removedElements[f],l=u.component,l!=undefined&&(f=this.Children.indexOf(l),f>-1&&this.Children.splice(f,1),u.component=undefined);this._removedElements.splice(0,h);this._needArrange=!0;this.Father.NotifyToRefreshArrange()}if(c=this._addedElements.length,c>0){for(o=this.Element,s=this.Element,this.Children.length>0&&(o=this.Children[this.Children.length-1].Element,s=this.Children[0].Element),f=0;f<c;f++)if(u=this._addedElements[f],u.component==undefined)if(o.nextElementSibling==u||this.Children.length==0)n.Layout.IsBehavior(u)&&this.Children.push(new t(this,u)),o=u;else if(s.previousElementSibling==u)n.Layout.IsBehavior(u)&&this.Children.splice(0,0,new t(this,u)),s=u;else if(o=this.Element,s=this.Element,e=this.Element.firstElementChild,e.previousElementSibling==u)n.Layout.IsBehavior(u)&&this.Children.splice(0,0,new t(this,u));else for(a=0;e!=undefined;){if(e.component!=undefined&&a++,e.nextElementSibling==u){n.Layout.IsBehavior(u)&&this.Children.splice(a,0,new t(this,u));break}e=e.nextElementSibling}this._addedElements.splice(0,c);this._needArrange=!0;this.Father.NotifyToRefreshArrange()}}this.Visible&&(this._behavior.Measure(),this._needMeasure=!1,this._canInformNeedArrangeInMeasure&&(this.H.NeedArrange||this.V.NeedArrange)&&(this._needArrange=!0,this.Father.NotifyToRefreshArrange()),n.Log.Measures++)}}}Arrange(){var t,u,i,r;if(this.Visible&&!this._frozen){if(this._needArrange||this.H.IsComponentSpaceChanged||this.V.IsComponentSpaceChanged||this.H.IsNeedMeasureAgain||this.V.IsNeedMeasureAgain)this._isBehavior&&(this.H.IsNeedMeasureAgain||this.V.IsNeedMeasureAgain)&&(this._canInformNeedArrangeInMeasure=!1,this.H.IsNeedMeasureAgain=!1,this.V.IsNeedMeasureAgain=!1,this.Measure(new n.SizeDelimiter(this.H.GivedSpace.Size,this.H.GivedSpace.Size),new n.SizeDelimiter(this.V.GivedSpace.Size,this.V.GivedSpace.Size)),this._canInformNeedArrangeInMeasure=!0,n.Log.BehaviorMeasureAgain++),this._behavior.Arrange(),n.Log.BehaviorArranges++;else if(this._childNeedArrange)for(t=0;t<this.Children.length;t++)u=this.Children[t],u.NeedArrange&&this.Children[t].Arrange();this._behavior.IsLayoutOverridedInArrange||(i=this.H.ComponentSpace.Size,r=this.V.ComponentSpace.Size,i<0&&(i=0),r<0&&(r=0),this.Element.style.width=i+"px",this.Element.style.height=r+"px",this.Element.style.left=this.H.ComponentSpace.Displacement+"px",this.Element.style.top=this.V.ComponentSpace.Displacement+"px",this.Element.laststyle=this.Element.getAttribute("style"));this._needArrange=!1;this._childNeedArrange=!1;n.Log.Arranges++}}}n.Component=t}(HtmlAlign||(HtmlAlign={})),function(n){class i{constructor(){this.regExpString=/^\s*(\w*).*$/;this.Name="--behavior";this.Context=n.CssPropertyContext.Component}DefaultValue(){return"panel"}SetValueFromCssProperty(t,i){i.Behavior=n.Layout.GetBehavior(i,this.regExpString.exec(t)[1]);i.Behavior!=null&&(i.Behavior.Component=i)}GetValueStringFromComponent(t){return n.Layout.GetBehaviorName(t)}}n.BehaviorCssProperty=i;class r{constructor(){this.regExpAlign=/^\s*(left|right|top|bottom|center|streach){0,1}\s*(left|right|top|bottom|center|streach){0,1}.*$/;this.Name="--align";this.Context=n.CssPropertyContext.Component}DefaultValue(){return"streach"}SetValueFromCssProperty(t,i){var f=this.regExpAlign.exec(t),r=f[1],e=f[2],u;i.H.Align=n.Align.Streach;i.V.Align=n.Align.Streach;u=this.ReadAlign(n.Axis.Horizontal,r,i);e==null?(r=="streach"||r=="center")&&this.ReadAlign(u,r,i):this.ReadAlign(u,e,i)}ReadAlign(t,i,r){return i=="left"?(t==n.Axis.Vertical&&(r.V.Align=r.H.Align),r.H.Align=n.Align.Start,n.Axis.Vertical):i=="right"?(t==n.Axis.Vertical&&(r.V.Align=r.H.Align),r.H.Align=n.Align.End,n.Axis.Vertical):i=="top"?(r.V.Align=n.Align.Start,n.Axis.Horizontal):i=="bottom"?(r.V.Align=n.Align.End,n.Axis.Horizontal):i=="center"?(r.Get(t).Align=n.Align.Center,n.Axis.Vertical):(r.Get(t).Align=n.Align.Streach,n.Axis.Vertical)}GetValueStringFromComponent(t){var i="left",r="top";return(t.H.Align==n.Align.End?i="right":t.H.Align==n.Align.Center?i="center":t.H.Align==n.Align.Streach&&(i="streach"),t.V.Align==n.Align.End?i="bottom":t.V.Align==n.Align.Center?i="center":t.V.Align==n.Align.Streach&&(i="streach"),i==r)?i:i+" "+r}}n.AlignCssProperty=r;class u{constructor(){this.regExpSize=/^\s*(\d*[.]?\d*)([%]?)([~*]?)(\d*[.]?\d*)([%]?)(?:\s+(\d*[.]?\d*)([%]?)([~*]?)(\d*[.]?\d*)([%]?))?.*$/;this.Default=n.SizeRange.Default();this.Name="--size";this.Context=n.CssPropertyContext.Component}DefaultValue(){return"~"}SetValueFromCssProperty(n,t){var i=this.regExpSize.exec(n);t.H.Size=this.ReadSizeRange(i[1],i[2],i[3],i[4],i[5],this.Default);t.V.Size=this.ReadSizeRange(i[6],i[7],i[8],i[9],i[10],t.H.Size)}GetValueStringFromComponent(n){return n.H.Size.toString()+" "+n.V.Size.toString()}ReadSizeRange(t,i,r,u,f,e){var o=i=="%",s=f=="%";return r||t||t=="0"?r=="~"?new n.SizeRange(0,parseFloat(t)||0,o,parseFloat(u)||Number.POSITIVE_INFINITY,s):r=="*"?new n.SizeRange(parseFloat(t)||1,0,!1,0,!1):t=="0"?new n.SizeRange(0,0,!1,0,!1):new n.SizeRange(0,parseFloat(t)||0,o,parseFloat(t)||Number.POSITIVE_INFINITY,o):new n.SizeRange(e.Star,e.Min,e.MinIsPercent,e.Max,e.MaxIsPercent)}}n.SizeCssProperty=u;class f{constructor(){this.Name="display";this.Context=n.CssPropertyContext.Component}DefaultValue(){return"block"}SetValueFromCssProperty(n,t){t.Visible=n.startsWith("none")?!1:!0}GetValueStringFromComponent(n){return n.Visible?"block":"none"}}n.DisplayCssProperty=f;class e{constructor(){this.regExpScroll=/^\s*(auto|overlay|hidden|scroll|visible){0,1}\s*(auto|overlay|hidden|scroll|visible){0,1}.*$/;this.Name="overflow";this.Context=n.CssPropertyContext.Component}DefaultValue(){return"hidden"}SetValueFromCssProperty(t,i){var f=this.regExpScroll.exec(t),r=f[1],u=f[2]||r;i.HorizontalScroll=r=="auto"||r=="overlay"?n.Scroll.Auto:r=="scroll"?n.Scroll.Visible:n.Scroll.None;i.VerticalScroll=u=="auto"||u=="overlay"?n.Scroll.Auto:u=="scroll"?n.Scroll.Visible:n.Scroll.None}GetValueStringFromComponent(n){return n.Visible?"block":"none"}}n.ScrollCssProperty=e;class o{constructor(){this.Name="margin-left";this.Context=n.CssPropertyContext.Component}DefaultValue(){return null}SetValueFromCssProperty(n,t){t.H.Margin.Start=Number.parseInt(n)}GetValueStringFromComponent(n){return n.H.Margin.Start.toString()+"px"}}n.MarginLeftCssProperty=o;class s{constructor(){this.Name="margin-top";this.Context=n.CssPropertyContext.Component}DefaultValue(){return null}SetValueFromCssProperty(n,t){t.V.Margin.Start=Number.parseInt(n)}GetValueStringFromComponent(n){return n.V.Margin.Start.toString()+"px"}}n.MarginTopCssProperty=s;class h{constructor(){this.Name="margin-right";this.Context=n.CssPropertyContext.Component}DefaultValue(){return null}SetValueFromCssProperty(n,t){t.H.Margin.End=Number.parseInt(n)}GetValueStringFromComponent(n){return n.H.Margin.End.toString()+"px"}}n.MarginRightCssProperty=h;class c{constructor(){this.Name="margin-bottom";this.Context=n.CssPropertyContext.Component}DefaultValue(){return null}SetValueFromCssProperty(n,t){t.V.Margin.End=Number.parseInt(n)}GetValueStringFromComponent(n){return n.V.Margin.End.toString()+"px"}}n.MarginBottomCssProperty=c;class l{constructor(){this.Name="border-left-width";this.Context=n.CssPropertyContext.Component}DefaultValue(){return null}SetValueFromCssProperty(n,t){t.H.Border.Start=Number.parseInt(n)}GetValueStringFromComponent(n){return n.H.Border.Start.toString()+"px"}}n.BorderLeftCssProperty=l;class a{constructor(){this.Name="border-top-width";this.Context=n.CssPropertyContext.Component}DefaultValue(){return null}SetValueFromCssProperty(n,t){t.V.Border.Start=Number.parseInt(n)}GetValueStringFromComponent(n){return n.V.Border.Start.toString()+"px"}}n.BorderTopCssProperty=a;class v{constructor(){this.Name="border-right-width";this.Context=n.CssPropertyContext.Component}DefaultValue(){return null}SetValueFromCssProperty(n,t){t.H.Border.End=Number.parseInt(n)}GetValueStringFromComponent(n){return n.H.Border.End.toString()+"px"}}n.BorderRightCssProperty=v;class y{constructor(){this.Name="border-bottom-width";this.Context=n.CssPropertyContext.Component}DefaultValue(){return null}SetValueFromCssProperty(n,t){t.V.Border.End=Number.parseInt(n)}GetValueStringFromComponent(n){return n.V.Border.End.toString()+"px"}}n.BorderBottomCssProperty=y;class p{constructor(){this.Name="padding-left";this.Context=n.CssPropertyContext.Component}DefaultValue(){return null}SetValueFromCssProperty(n,t){t.H.Padding.Start=Number.parseInt(n)}GetValueStringFromComponent(n){return n.H.Padding.Start.toString()+"px"}}n.PaddingLeftCssProperty=p;class w{constructor(){this.Name="padding-top";this.Context=n.CssPropertyContext.Component}DefaultValue(){return null}SetValueFromCssProperty(n,t){t.V.Padding.Start=Number.parseInt(n)}GetValueStringFromComponent(n){return n.V.Padding.Start.toString()+"px"}}n.PaddingTopCssProperty=w;class b{constructor(){this.Name="padding-right";this.Context=n.CssPropertyContext.Component}DefaultValue(){return null}SetValueFromCssProperty(n,t){t.H.Padding.End=Number.parseInt(n)}GetValueStringFromComponent(n){return n.H.Padding.End.toString()+"px"}}n.PaddingRightCssProperty=b;class k{constructor(){this.Name="padding-bottom";this.Context=n.CssPropertyContext.Component}DefaultValue(){return null}SetValueFromCssProperty(n,t){t.V.Padding.End=Number.parseInt(n)}GetValueStringFromComponent(n){return n.V.Padding.End.toString()+"px"}}n.PaddingBottomCssProperty=k;class t{constructor(){this.Name="panel";this.IsLayoutOverridedInArrange=!1}GetNew(){return new t}GetCssProperties(){return[t.BehaviorCssProperty,t.AlignCssProperty,t.SizeCssProperty,t.DisplayCssProperty,t.ScrollCssProperty,t.MarginLeftCssProperty,t.MarginTopCssProperty,t.MarginRightCssProperty,t.MarginBottomCssProperty,t.BorderLeftCssProperty,t.BorderTopCssProperty,t.BorderRightCssProperty,t.BorderBottomCssProperty,t.PaddingLeftCssProperty,t.PaddingTopCssProperty,t.PaddingRightCssProperty,t.PaddingBottomCssProperty]}Measure(){for(var n,t=0,i=0,r=0;r<this.Component.Children.length;r++)n=this.Component.Children[r],n.Measure(this.Component.H.ContentDelimiter,this.Component.V.ContentDelimiter),t<n.H.ComponentRequired&&(t=n.H.ComponentRequired),i<n.V.ComponentRequired&&(i=n.V.ComponentRequired);this.Component.H.ContentDesired=t;this.Component.V.ContentDesired=i}Arrange(){for(var t,n=0;n<this.Component.Children.length;n++)t=this.Component.Children[n],t.H.GivedSpace=this.Component.H.ContentSpace,t.V.GivedSpace=this.Component.V.ContentSpace,t.Arrange()}}t.BehaviorCssProperty=new i;t.AlignCssProperty=new r;t.SizeCssProperty=new u;t.DisplayCssProperty=new f;t.ScrollCssProperty=new e;t.MarginLeftCssProperty=new o;t.MarginTopCssProperty=new s;t.MarginRightCssProperty=new h;t.MarginBottomCssProperty=new c;t.BorderLeftCssProperty=new l;t.BorderTopCssProperty=new a;t.BorderRightCssProperty=new v;t.BorderBottomCssProperty=new y;t.PaddingLeftCssProperty=new p;t.PaddingTopCssProperty=new w;t.PaddingRightCssProperty=new b;t.PaddingBottomCssProperty=new k;n.PanelBehavior=t}(HtmlAlign||(HtmlAlign={})),function(n){class t{constructor(){this.Name="in";this.IsLayoutOverridedInArrange=!0;this._widthIsMaxContent=!0;this._heightIsMaxContent=!0;this._needInformLastStyle=!1}GetNew(){return new t}GetCssProperties(){return[]}Measure(){var t,i;this.Component.H.IsFixed&&this.Component.V.IsFixed?(this._widthIsMaxContent=!1,this._heightIsMaxContent=!1,this.Component.H.ContentDesired=0,this.Component.V.ContentDesired=0):(this._widthIsMaxContent||(this._widthIsMaxContent=!0,this.Component.Element.style.width=n.Layout.MaxContentString,this._needInformLastStyle=!0),this._heightIsMaxContent||(this._heightIsMaxContent=!0,this.Component.Element.style.height=n.Layout.MaxContentString,this._needInformLastStyle=!0),t=this.Component.H.GivedDelimiter.Max-this.Component.H.Margin.Sum(),this.Component.Element.clientWidth>=t&&(this.Component.Element.style.width=t+"px",this._widthIsMaxContent=!1,this._heightIsMaxContent||(this._heightIsMaxContent=!0,this.Component.Element.style.height=n.Layout.MaxContentString),this._needInformLastStyle=!0),this._needInformLastStyle&&(this._needInformLastStyle=!1,this.Component.Element.laststyle=this.Component.Element.getAttribute("style")),i=this.Component.Element.getBoundingClientRect(),this.Component.H.ContentDesired=i.width-this.Component.H.Border.Sum()-this.Component.H.Padding.Sum(),this.Component.V.ContentDesired=i.height-this.Component.V.Border.Sum()-this.Component.V.Padding.Sum())}Arrange(){var n,t;this._widthIsMaxContent&&this.Component.H.ComponentDesired==this.Component.H.GivedSpace.Size||(this._widthIsMaxContent=!1,n=this.Component.H.ComponentSpace.Size,n<0&&(n=0),this.Component.Element.style.width=n+"px");this._heightIsMaxContent&&this.Component.V.ComponentDesired==this.Component.V.GivedSpace.Size||(this._heightIsMaxContent=!1,t=this.Component.V.ComponentSpace.Size,t<0&&(t=0),this.Component.Element.style.height=t+"px");this.Component.Element.style.left=this.Component.H.ComponentSpace.Displacement+"px";this.Component.Element.style.top=this.Component.V.ComponentSpace.Displacement+"px";this.Component.Element.laststyle=this.Component.Element.getAttribute("style")}}n.InBehavior=t}(HtmlAlign||(HtmlAlign={})),function(n){class t extends n.PanelBehavior{constructor(){super(...arguments);this.IsLayoutOverridedInArrange=!0}Arrange(){var r,u,t,i;for((this.Component.H.IsNeedMeasureAgain||this.Component.V.IsNeedMeasureAgain)&&(this.Component._canInformNeedArrangeInMeasure=!1,this.Component.H.IsNeedMeasureAgain=!1,this.Component.V.IsNeedMeasureAgain=!1,r=this.Component.H.Star>0?new n.SizeDelimiter(this.Component.H.GivedSpace.Size,this.Component.H.GivedSpace.Size):this.Component.H.GivedDelimiter,u=this.Component.V.Star>0?new n.SizeDelimiter(this.Component.V.GivedSpace.Size,this.Component.V.GivedSpace.Size):this.Component.V.GivedDelimiter,this.Component.Measure(r,u),n.Log.LogicalMeasureAgain++),t=0;t<this.Component.Children.length;t++)i=this.Component.Children[t],i.H.GivedSpace=this.Component.H.GivedSpace,i.V.GivedSpace=this.Component.V.GivedSpace,i.Arrange()}}n.LogicalBehavior=t}(HtmlAlign||(HtmlAlign={})),function(n){class t extends n.PanelBehavior{constructor(){super(...arguments);this.IsLayoutOverridedInArrange=!1}Measure(){for(var t,f=new n.SizeDelimiter(this.Component.H.Size.Min,this.Component.H.Size.Min),e=new n.SizeDelimiter(this.Component.V.Size.Min,this.Component.V.Size.Min),i=0,r=0,u=0;u<this.Component.Children.length;u++)t=this.Component.Children[u],t.H.Size.MaxIsPercent&&t.V.Size.MaxIsPercent?t.Measure(f,e):t.H.Size.MaxIsPercent?t.Measure(f,this.Component.V.ContentDelimiter):t.V.Size.MaxIsPercent?t.Measure(this.Component.H.ContentDelimiter,e):t.Measure(this.Component.H.ContentDelimiter,this.Component.V.ContentDelimiter),i<t.H.ComponentRequired&&(i=t.H.ComponentRequired),r<t.V.ComponentRequired&&(r=t.V.ComponentRequired);this.Component.H.ContentDesired=i;this.Component.V.ContentDesired=r}Arrange(){var t=!1,i=!1,r,u;this.Component.V.Scroll==n.Scroll.Auto&&(r=this.Component.V.ContentDesired+this.Component.V.Margin.Sum()+this.Component.V.Border.Sum()+this.Component.V.Padding.Sum(),r>this.Component.V.Size.Min&&(t=!0));this.Component.H.Scroll==n.Scroll.Auto&&(u=this.Component.H.ContentDesired+this.Component.H.Margin.Sum()+this.Component.H.Border.Sum()+this.Component.H.Padding.Sum(),u>this.Component.H.Size.Min&&(i=!0));t&&!i?(this.Component._canInformNeedArrangeInMeasure=!1,this.Component.H.Size.Min-=17,this.Component.Measure(n.SizeDelimiter.Default(),n.SizeDelimiter.Default()),this.Component.H.GivedSpace=new n.Space(0,this.Component.H.ComponentRequired),this.Component.V.GivedSpace=new n.Space(0,this.Component.V.ComponentRequired),this.Component.H.Size.Min+=17,this.Component._canInformNeedArrangeInMeasure=!0,n.Log.RootScrollMeasureAgain++):i&&!t?(this.Component._canInformNeedArrangeInMeasure=!1,this.Component.V.Size.Min-=17,this.Component.Measure(n.SizeDelimiter.Default(),n.SizeDelimiter.Default()),this.Component.H.GivedSpace=new n.Space(0,this.Component.H.ComponentRequired),this.Component.V.GivedSpace=new n.Space(0,this.Component.V.ComponentRequired),this.Component.V.Size.Min+=17,this.Component._canInformNeedArrangeInMeasure=!0,n.Log.RootScrollMeasureAgain++):t&&t&&(this.Component._canInformNeedArrangeInMeasure=!1,this.Component.H.Size.Min-=17,this.Component.V.Size.Min-=17,this.Component.Measure(n.SizeDelimiter.Default(),n.SizeDelimiter.Default()),this.Component.H.GivedSpace=new n.Space(0,this.Component.H.ComponentRequired),this.Component.V.GivedSpace=new n.Space(0,this.Component.V.ComponentRequired),this.Component.H.Size.Min+=17,this.Component.V.Size.Min+=17,this.Component._canInformNeedArrangeInMeasure=!0,n.Log.RootScrollMeasureAgain++);super.Arrange()}}n.BodyBehavior=t}(HtmlAlign||(HtmlAlign={})),function(n){class i{constructor(){this.regExpString=/^\s*(\w*).*$/;this.Name="--stack";this.Context=n.CssPropertyContext.Component}DefaultValue(){return"left"}SetValueFromCssProperty(t,i){var t=this.regExpString.exec(t)[1],r=i.Behavior;r.Side=t=="top"?n.Side.Top:t=="right"?n.Side.Right:t=="bottom"?n.Side.Bottom:n.Side.Left}GetValueStringFromComponent(t){var i=t.Behavior;return i.Side==n.Side.Top?"top":i.Side==n.Side.Right?"right":i.Side==n.Side.Bottom?"bottom":"left"}}n.StackCssProperty=i;class t{constructor(){this.Name="stack";this.IsLayoutOverridedInArrange=!1;this._totalDesiredSizeNotStarInAxis=0;this._starCountInAxis=0}GetNew(){return new t}GetCssProperties(){return[t.StackCssProperty]}Measure(){var t=n.Axis.Vertical,i,r,u,f,e;for((this.Side==n.Side.Left||this.Side==n.Side.Right)&&(t=n.Axis.Horizontal),this._starCountInAxis=0,this._totalDesiredSizeNotStarInAxis=0,i=0,r=0;r<this.Component.Children.length;r++)u=this.Component.Children[r],f=u.Get(t),u.Measure(this.Component.H.ContentDelimiter,this.Component.V.ContentDelimiter),e=u.GetAwry(t),e.ComponentRequired>i&&(i=e.ComponentRequired),f.Star>0?this._starCountInAxis+=f.Star:this._totalDesiredSizeNotStarInAxis+=f.ComponentRequired;this.Component.Get(t).ContentDesired=this._totalDesiredSizeNotStarInAxis;this.Component.GetAwry(t).ContentDesired=i}Arrange(){var f=n.Axis.Vertical,r,u,i;(this.Side==n.Side.Left||this.Side==n.Side.Right)&&(f=n.Axis.Horizontal);var t=this.Component.Get(f).ContentSpace.Copy(),o=this.Component.GetAwry(f).ContentSpace,e=0;if(this._starCountInAxis>0&&t.Size>this._totalDesiredSizeNotStarInAxis&&(e=(t.Size-this._totalDesiredSizeNotStarInAxis)/this._starCountInAxis),this.Side==n.Side.Left||this.Side==n.Side.Top)for(r=0;r<this.Component.Children.length;r++)u=this.Component.Children[r],i=u.Get(f),t.Size=i.Star?e*i.Star:i.ComponentRequired,i.GivedSpace=t,u.GetAwry(f).GivedSpace=o,u.Arrange(),t.Displacement+=t.Size;else for(r=this.Component.Children.length-1;r>=0;r--)u=this.Component.Children[r],i=u.Get(f),t.Size=i.Star?e:i.ComponentRequired,i.GivedSpace=t,u.GetAwry(f).GivedSpace=o,u.Arrange(),t.Displacement+=t.Size}}t.StackCssProperty=new i;n.StackBehavior=t}(HtmlAlign||(HtmlAlign={})),function(n){class r{constructor(){this.regExpString=/^\s*(\w*).*$/;this.Name="--wrap";this.Context=n.CssPropertyContext.Component}DefaultValue(){return"left"}SetValueFromCssProperty(t,i){var t=this.regExpString.exec(t)[1],r=i.Behavior;r._side=t=="top"?n.Side.Top:t=="right"?n.Side.Right:t=="bottom"?n.Side.Bottom:n.Side.Left}GetValueStringFromComponent(t){var i=t.Behavior;return i._side==n.Side.Top?"top":i._side==n.Side.Right?"right":i._side==n.Side.Bottom?"bottom":"left"}}n.WrapCssProperty=r;class t{constructor(){this.Name="wrap";this.IsLayoutOverridedInArrange=!1;this._lines=[]}GetNew(){return new t}GetCssProperties(){return[t.WrapCssProperty]}Measure(){for(var t,r,i,n=0;n<this.Component.Children.length;n++)this.Component.Children[n].Measure(this.Component.H.ContentDelimiter,this.Component.V.ContentDelimiter);for(this.ProcessLines(this.Component.H.ContentDelimiter.Max,this.Component.V.ContentDelimiter.Max),t=0,r=0,n=0;n<this._lines.length;n++)i=this._lines[n],i.SumOfSizesInAxis>t&&(t=i.SumOfSizesInAxis),r+=i.MaxSizeInReverseAxis;this.Component.Get(this._wrapAxis).ContentDesired=t;this.Component.GetAwry(this._wrapAxis).ContentDesired=r}Arrange(){for(var t,r,i,e,n=this.Component.Get(this._wrapAxis).ContentSpace.Copy(),u=this.Component.GetAwry(this._wrapAxis).ContentSpace.Copy(),o=n.Copy(),f=0;f<this._lines.length;f++){for(t=this._lines[f],u.Size=t.MaxSizeInReverseAxis,r=0;r<t.Components.length;r++)i=t.Components[r],e=i.Get(this._wrapAxis).ComponentRequired,n.Size=e,i.Get(this._wrapAxis).GivedSpace=n,i.GetAwry(this._wrapAxis).GivedSpace=u,i.Arrange(),n.Displacement+=e;n.CopyFrom(o);u.Displacement+=t.MaxSizeInReverseAxis}}ProcessLines(t,r){var o,u,f,e;if(this._lines=[],this._wrapAxis=n.Axis.Vertical,o=r,(this._side==n.Side.Left||this._side==n.Side.Right)&&(this._wrapAxis=n.Axis.Horizontal,o=t),u=null,this._side==n.Side.Left||this._side==n.Side.Top)for(f=0;f<this.Component.Children.length;f++)e=this.Component.Children[f],u!=null&&u.Add(e)||(u=new i(this._wrapAxis,o,e),this._lines.push(u));else for(f=this.Component.Children.length-1;f>=0;f--)e=this.Component.Children[f],u!=null&&u.Add(e)||(u=new i(this._wrapAxis,o,e),this._lines.push(u))}}t.WrapCssProperty=new r;n.WrapBehavior=t;class i{constructor(n,t,i){this.WrapAxis=n;this.MaxSizeInAxis=t;this.SumOfSizesInAxis=i.Get(this.WrapAxis).ComponentRequired;this.MaxSizeInReverseAxis=i.GetAwry(this.WrapAxis).ComponentRequired;this.Components=[];this.Components.push(i)}Add(n){var t=n.Get(this.WrapAxis).ComponentRequired,i=n.GetAwry(this.WrapAxis).ComponentRequired;return this.SumOfSizesInAxis+t>this.MaxSizeInAxis?!1:(this.SumOfSizesInAxis+=t,i>this.MaxSizeInReverseAxis&&(this.MaxSizeInReverseAxis=i),this.Components.push(n),!0)}}n.WrapLine=i}(HtmlAlign||(HtmlAlign={})),function(n){class i{constructor(){this.regExpString=/^\s*(\w*).*$/;this.Name="--dock";this.Context=n.CssPropertyContext.Child}DefaultValue(){return"left"}SetValueFromCssProperty(t,i){var t=this.regExpString.exec(t)[1];i.FatherAttached.Side=t=="top"?n.Side.Top:t=="right"?n.Side.Right:t=="bottom"?n.Side.Bottom:t=="left"?n.Side.Left:n.Side.All}GetValueStringFromComponent(t){return t.FatherAttached.Side==n.Side.Top?"top":t.FatherAttached.Side==n.Side.Right?"right":t.FatherAttached.Side==n.Side.Bottom?"bottom":t.FatherAttached.Side==n.Side.Left?"left":"fit"}}n.DockCssProperty=i;class t{constructor(){this.Name="dock";this.IsLayoutOverridedInArrange=!1}GetNew(){return new t}GetCssProperties(){return[t.DockCssPropery]}Measure(){for(var i,t,e,u=n.Rect.Default(),r=n.Rect.Default(),f=0;f<this.Component.Children.length;f++)if(i=this.Component.Children[f],i.Measure(this.Component.H.ContentDelimiter,this.Component.V.ContentDelimiter),t=n.Axis.Vertical,(i.FatherAttached.Side==n.Side.Left||i.FatherAttached.Side==n.Side.Right)&&(t=n.Axis.Horizontal),u.Set(t,u.Get(t)+i.Get(t).ComponentRequired),r.Get(t)<u.Get(t)&&r.Set(t,u.Get(t)),e=i.GetAwry(t).ComponentRequired+u.GetAwry(t),r.GetAwry(t)<e&&r.SetAwry(t,e),i.FatherAttached.Side==n.Side.All)break;this.Component.H.ContentDesired=r.H;this.Component.V.ContentDesired=r.V}Arrange(){for(var t,i,u,r=new n.Rect(this.Component.H.ContentSpace.Size,this.Component.V.ContentSpace.Size),f=new n.Rect(this.Component.H.ContentSpace.Displacement,this.Component.V.ContentSpace.Displacement),e=!1,o=0;o<this.Component.Children.length;o++){if(t=this.Component.Children[o],e){t.H.GivedSpace=n.Space.Default();t.V.GivedSpace=n.Space.Default();t.Arrange();continue}if(t.FatherAttached.Side==n.Side.All){t.H.GivedSpace=new n.Space(f.H,r.H);t.V.GivedSpace=new n.Space(f.V,r.V);t.Arrange();e=!0;continue}i=n.Axis.Vertical;(t.FatherAttached.Side==n.Side.Left||t.FatherAttached.Side==n.Side.Right)&&(i=n.Axis.Horizontal);u=t.Get(i).ComponentRequired;u>=r.Get(i)&&(u=r.Get(i),e=!0);e||t.FatherAttached.Side!=n.Side.Right&&t.FatherAttached.Side!=n.Side.Bottom?(t.Get(i).GivedSpace=new n.Space(f.Get(i),u),f.Set(i,f.Get(i)+u)):t.Get(i).GivedSpace=new n.Space(f.Get(i)+r.Get(i)-u,u);t.GetAwry(i).GivedSpace=new n.Space(f.GetAwry(i),r.GetAwry(i));r.Set(i,r.Get(i)-u);t.Arrange()}}}t.DockCssPropery=new i;n.DockBehavior=t}(HtmlAlign||(HtmlAlign={})),function(n){class i{constructor(){this.Name="--grid";this.Context=n.CssPropertyContext.Component}DefaultValue(){return"*, *"}SetValueFromCssProperty(t,i){var a=/\s*((\d*[.]?\d*)([%]?)([~*])(\d*[.]?\d*)([%]?))|(\d+[.]?\d*)([%]?)|([,])/g,r=i.Behavior,u,e,o,s,h;if(!/^(\s*((\d*[.]?\d*[%]?[~*]\d*[.]?\d*[%]?)|\d+[.]?\d*[%]?))+\s*[,](\s*((\d*[.]?\d*[%]?[~*]\d*[.]?\d*[%]?)|\d+[.]?\d*[%]?))+.*$/.test(t)){r.Columns=[n.SizeRange.Default()];r.Rows=[n.SizeRange.Default()];return}for(r.Columns=[],r.Rows=[],e=!1;u=a.exec(t);){if(u[9]==","){if(e)break;e=!0;continue}if(u[7]!=undefined)s=parseInt(u[7]),h=u[8]=="%",o=new n.SizeRange(0,s,h,s,h);else{var f=u[2],c=u[3],l=u[4],v=u[5],y=u[6];o=l||f||f=="0"?l=="~"?new n.SizeRange(0,parseFloat(f)||0,c,parseFloat(v)||Number.POSITIVE_INFINITY,y):l=="*"?new n.SizeRange(parseFloat(f)||1,0,!1,0,!1):f=="0"?new n.SizeRange(0,0,!1,0,!1):new n.SizeRange(0,parseFloat(f)||0,c,parseFloat(f)||Number.POSITIVE_INFINITY,c):n.SizeRange.Default()}e?r.Rows.push(o):r.Columns.push(o)}r.Columns.length==0&&(r.Columns=[n.SizeRange.Default()]);r.Rows.length==0&&(r.Rows=[n.SizeRange.Default()])}GetValueStringFromComponent(n){for(var i=n.Behavior,r="",t=0;t<i.Columns.length;t++)r+=" "+i.Columns[t].toString();for(r+=",",t=0;t<i.Rows.length;t++)r+=" "+i.Rows[t].toString();return r}}n.GridCssProperty=i;class r{constructor(){this.regExpPlace=/^\s*(\d*)\s*(\d*).*$/;this.Name="--place";this.Context=n.CssPropertyContext.Child}DefaultValue(){return"0 0"}SetValueFromCssProperty(n,t){var i=this.regExpPlace.exec(n);t.FatherAttached.Column=i[1]!=undefined?parseInt(i[1]):0;t.FatherAttached.Row=i[2]!=undefined?parseInt(i[2]):0}GetValueStringFromComponent(n){return n.FatherAttached.Column+" "+n.FatherAttached.Row}}n.GridPlaceCssProperty=r;class t{constructor(){this.Name="grid";this.IsLayoutOverridedInArrange=!1}GetNew(){return new t}GetCssProperties(){return[t.GridCssProperty,t.GridPlaceCssProperty]}Measure(){var r,i,u,f,t;for(this._places=[],this._columnsMaxSizes=[],this._rowsMaxSizes=[],this._columnStarCount=0,this._rowStarCount=0,this._totalColumnDesiredSizeNotStar=0,this._totalRowDesiredSizeNotStar=0,t=0;t<this.Rows.length;t++)this._rowsMaxSizes.push(0),this.Rows[t].Star>0&&(this._rowStarCount+=this.Rows[t].Star);for(r=0;r<this.Columns.length;r++){for(this._columnsMaxSizes.push(0),this.Columns[r].Star>0&&(this._columnStarCount+=this.Columns[r].Star),t=0;t<this.Rows.length;t++){for(i=new n.Component(this.Component,undefined),i.H.Size=this.Columns[r],i.V.Size=this.Rows[t],u=0;u<this.Component.Children.length;u++)f=this.Component.Children[u],f.FatherAttached.Column==r&&f.FatherAttached.Row==t&&i.Children.push(f);this._places.push(i);(i.H.Star==0||i.V.Star==0)&&(i.Measure(this.Component.H.ContentDelimiter,this.Component.V.ContentDelimiter),i.H.Star==0&&i.H.ComponentRequired>this._columnsMaxSizes[r]&&(this._columnsMaxSizes[r]=i.H.ComponentRequired),i.V.Star==0&&i.V.ComponentRequired>this._rowsMaxSizes[t]&&(this._rowsMaxSizes[t]=i.V.ComponentRequired))}this._totalColumnDesiredSizeNotStar+=this._columnsMaxSizes[r]}for(t=0;t<this.Rows.length;t++)this._totalRowDesiredSizeNotStar+=this._rowsMaxSizes[t];this.Component.H.ContentDesired=this._totalColumnDesiredSizeNotStar;this.Component.V.ContentDesired=this._totalRowDesiredSizeNotStar}Arrange(){var c,t,l,i,r,u;if(this._columnStarCount>0&&this.Component.H.ComponentSpace.Size>this._totalColumnDesiredSizeNotStar)for(c=(this.Component.H.ComponentSpace.Size-this._totalColumnDesiredSizeNotStar)/this._columnStarCount,t=0;t<this.Columns.length;t++)this.Columns[t].Star>0&&(this._columnsMaxSizes[t]=c*this.Columns[t].Star);if(this._rowStarCount>0&&this.Component.V.ComponentSpace.Size>this._totalRowDesiredSizeNotStar)for(l=(this.Component.V.ComponentSpace.Size-this._totalRowDesiredSizeNotStar)/this._rowStarCount,i=0;i<this.Rows.length;i++)this.Rows[i].Star>0&&(this._rowsMaxSizes[i]=l*this.Rows[i].Star);var a=this._rowsMaxSizes.length,f=0,e=0,o=0,s=-1,v=0,h=0;for(r=0;r<this._places.length;r++)u=this._places[r],f=r%a,f==0?e=0:e+=o,o=this._rowsMaxSizes[f],s<Math.floor(r/a)&&(s++,v+=h,h=this._columnsMaxSizes[s]),u.H.GivedSpace=new n.Space(this.Component.H.ContentSpace.Displacement+v,h),u.V.GivedSpace=new n.Space(this.Component.V.ContentSpace.Displacement+e,o),u.Arrange()}}t.GridCssProperty=new i;t.GridPlaceCssProperty=new r;n.GridBehavior=t}(HtmlAlign||(HtmlAlign={})),function(n){class i{constructor(){this.regExpString=/^\s*(\w*).*$/;this.Name="--fit";this.Context=n.CssPropertyContext.Component}DefaultValue(){return"uniform"}SetValueFromCssProperty(t,i){var t=this.regExpString.exec(t)[1],r=i.Behavior;r.Fit=t=="fit"?n.Fit.Fit:t=="horizontal"?n.Fit.Horizontal:t=="vertical"?n.Fit.Vertical:n.Fit.Uniform}GetValueStringFromComponent(t){var i=t.Behavior;return i.Fit==n.Fit.Fit?"fit":i.Fit==n.Fit.Horizontal?"horizontal":i.Fit==n.Fit.Vertical?"vertical":"uniform"}}n.FitCssProperty=i;class t extends n.PanelBehavior{constructor(){super(...arguments);this.Name="fit";this.IsLayoutOverridedInArrange=!0}GetNew(){return new t}GetCssProperties(){return[t.FitCssProperty]}Measure(){var n=this.Component.Element.style.transform;this.Component.Element.style.transform="initial";this.Component.Element.laststyle=this.Component.Element.getAttribute("style");super.Measure()}Arrange(){var t,i,r,u;super.Arrange();t=this.Component.H.ComponentSpace.Size;i=this.Component.V.ComponentSpace.Size;t<0&&(t=0);i<0&&(i=0);this.Component.Element.style.width=t+"px";this.Component.Element.style.left=this.Component.H.ComponentSpace.Displacement+"px";this.Component.Element.style.height=i+"px";this.Component.Element.style.top=this.Component.V.ComponentSpace.Displacement+"px";r=this.Component.Father.H.ContentSpace.Size/this.Component.H.ComponentDesired;u=this.Component.Father.V.ContentSpace.Size/this.Component.V.ComponentDesired;this.Fit==n.Fit.Uniform?this.Component.Element.style.transform="scale("+Math.min(r,u)+")":this.Fit==n.Fit.Fit?this.Component.Element.style.transform="scale("+r+","+u+")":this.Fit==n.Fit.Horizontal?this.Component.Element.style.transform="scale("+r+",1)":this.Fit==n.Fit.Vertical&&(this.Component.Element.style.transform="scale(1,"+u+")");this.Component.Element.laststyle=this.Component.Element.getAttribute("style")}}t.FitCssProperty=new i;n.FitBehavior=t}(HtmlAlign||(HtmlAlign={})),function(n){function o(){e||i?t&&!i&&(i=!0,setTimeout(a,4)):(e=!0,setTimeout(v,12))}function a(){i=!1;o()}function v(){t||(t=!0,setTimeout(y,4))}function y(){try{n.Layout.ExecuteRefreshLayout();n.Log.LayoutRefreshed++}catch(i){console.log("Erro em _refreshArrange");console.log(i)}finally{t=!1;e=!1}}function u(){var t=p();n.Config.VerifyStyleSheetPeriodicaly||t&&n.Config.IfDevToolsOpenRefresh?(n.Layout._verifyStyleSheetChanged(!r),r=!0):r=!1;n.Config.VerifyStyleSheetPeriodicaly?requestAnimationFrame(()=>setTimeout(u,n.Config.VerifyStyleSheetPeriodicalyDelay)):t?requestAnimationFrame(()=>setTimeout(u,n.Config.DevToolsOpenRefreshDelay)):requestAnimationFrame(()=>setTimeout(u,2e3))}function p(){var t=n.Config.DevToolsTreshhold,i=window.outerWidth-window.innerWidth>t,r=window.outerHeight-window.innerHeight>t;return r&&i||!(window.Firebug&&window.Firebug.chrome&&window.Firebug.chrome.isInitialized||i||r)?f?(f=!1,!0):!1:(f=!0,!0)}function w(n,t){var i,t=t||200;return function(){var r=this,u=arguments;clearTimeout(i);i=setTimeout(function(){n.apply(r,Array.prototype.slice.call(u))},t)}}function h(){n.Layout.Init();s.observe(document.body,{attributes:!0,childList:!0,subtree:!0,characterData:!0});u();window.addEventListener("resize",w(function(){n.Layout.RefreshRootSize()},n.Config.ResizeDelay))}var r,f,s;class c{constructor(n,t){this.BehaviorName=n;this.CssProperty=t}}class l{constructor(){this._behaviors=[];this._cssPropertyEntry=[];this.MaxContentString="max-content";navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(this.MaxContentString="-moz-max-content");this.RegisterBehavior(new n.PanelBehavior);this.RegisterBehavior(new n.InBehavior);this.RegisterBehavior(new n.StackBehavior);this.RegisterBehavior(new n.WrapBehavior);this.RegisterBehavior(new n.DockBehavior);this.RegisterBehavior(new n.GridBehavior);this.RegisterBehavior(new n.FitBehavior);this.RefreshBaseStyle()}RefreshBaseStyle(){for(var h,c,s,u,i,r=[],f=[],e=[],t=0;t<this._behaviors.length;t++)f.push(this._behaviors[t].Name);for(f.push("body"),f.push("*[in]"),e.push("box-sizing:border-box"),e.push("position:absolute"),h=this._behaviors[0].GetCssProperties(),t=0;t<h.length;t++)c=h[t],i=c.DefaultValue(),i!=null&&e.push(c.Name+":"+i);for(r.push(f.join(",")+"{"+e.join(";")+"}"),t=2;t<this._behaviors.length;t++){var o=this._behaviors[t],v=o.GetCssProperties(),l=[],a=[];for(l.push("--behavior:"+o.Name),s=0;s<v.length;s++)u=v[s],i=u.DefaultValue(),i!=null&&(u.Context==n.CssPropertyContext.Component?l.push(u.Name+":"+i):a.push(u.Name+":"+i));r.push(o.Name+"{"+l.join(";")+"}");a.length>0&&r.push(o.Name+">*{"+a.join(";")+"}")}r.push("body{overflow:auto;margin:0}");r.push("in,*[in]{--behavior:in;width:"+this.MaxContentString+";height:"+this.MaxContentString+";}");this._baseStyleElement&&document.head.removeChild(this._baseStyleElement);this._baseStyleElement=document.createElement("style");this._baseStyleElement.title="text/css";this._baseStyleElement.appendChild(document.createTextNode(r.join("\n")));document.head.firstChild!=undefined?document.head.insertBefore(this._baseStyleElement,document.head.firstChild):document.head.appendChild(this._baseStyleElement);this._root&&this.ForceRereadAllCssProperties(this._root)}Init(){var t={Behavior:{}};t.NotifyNeedMeasure=function(){n.RefreshLayout();n.Log.RootMeasuresNotified++};t.NotifyToRefreshArrange=function(){n.Log.RootArrangesNotified++};t.NotifyArrange=function(){n.Log.RootArrangesNotified++};this._root=new n.Component(t,document.body);document.body.component=this._root;this.RefreshRootSize();this.ExecuteRefreshLayout()}ExecuteRefreshLayout(){this._root.Measure(n.SizeDelimiter.Default(),n.SizeDelimiter.Default());this._root.H.GivedSpace=new n.Space(0,this._root.H.ComponentRequired);this._root.V.GivedSpace=new n.Space(0,this._root.V.ComponentRequired);this._root.Arrange()}RefreshValuesFromCssProperties(t){for(var i,u=window.getComputedStyle(t.Element),r=0;r<this._cssPropertyEntry.length;r++)i=this._cssPropertyEntry[r],(i.BehaviorName=="panel"||i.CssProperty.Context==n.CssPropertyContext.Component&&t.Behavior.Name==i.BehaviorName||i.CssProperty.Context==n.CssPropertyContext.Child&&t.Father.Behavior.Name==i.BehaviorName)&&i.CssProperty.SetValueFromCssProperty(u.getPropertyValue(i.CssProperty.Name),t);n.Log.ReadedCssProperties++}RefreshRootSize(){var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),t=Math.max(document.documentElement.clientHeight,window.innerHeight||0);this._root.Width={min:n,max:Number.POSITIVE_INFINITY};this._root.Height={min:t,max:Number.POSITIVE_INFINITY}}RegisterBehavior(n){var t,i;if(this._behaviors.push(n),t=n.GetCssProperties(),t!=null)for(i=0;i<t.length;i++)this._cssPropertyEntry.push(new c(n.Name,t[i]))}IsBehavior(n){var i,t;if(n.tagName==undefined)return!1;for(i=n.tagName.toLowerCase(),t=0;t<this._behaviors.length;t++)if(this._behaviors[t].Name==i)return!0;return n.attributes["in"]!=null?!0:!1}GetBehavior(t,i){var r,u;if(t.Element.tagName=="BODY")return new n.BodyBehavior;for(r=0;r<this._behaviors.length;r++)if(u=this._behaviors[r],u.Name==i)return u.GetNew();return this._behaviors[0].GetNew()}GetBehaviorName(n){if(n.Behavior!=undefined)return n.Behavior.Name}_verifyStyleSheetChanged(n){n&&this._verifyStyleSheetChangedComponent(this._root,!0);this._verifyStyleSheetChangedComponent(this._root,!1)}_verifyStyleSheetChangedComponent(t,i){for(var u,e=window.getComputedStyle(t.Element),f="",r=0;r<this._cssPropertyEntry.length;r++)u=this._cssPropertyEntry[r],(u.BehaviorName=="panel"||u.CssProperty.Context==n.CssPropertyContext.Component&&t.Behavior.Name==u.BehaviorName||u.CssProperty.Context==n.CssPropertyContext.Child&&t.Father.Behavior.Name==u.BehaviorName)&&(f+=e.getPropertyValue(u.CssProperty.Name));for(t.IsContent&&(f+=e.getPropertyValue("font")),t.FatherAttached.lastCssText==undefined||i?t.FatherAttached.lastCssText=f:t.FatherAttached.lastCssText!=f&&(t.FatherAttached.lastCssText=f,t.NotifyTagChanged()),r=0;r<t.Children.length;r++)this._verifyStyleSheetChangedComponent(t.Children[r],i)}ForceRereadAllCssProperties(n){n.NotifyTagChanged();for(var t=0;t<n.Children.length;t++)this.ForceRereadAllCssProperties(n.Children[t])}}n.Layout=new l;var e=!1,t=!1,i=!1;n.RefreshLayout=o;r=!0;f=!1;s=new MutationObserver(n=>{for(var t,u,i,r,f=0;f<n.length;f++)if(t=n[f],t.type=="characterData"||t.target.component==undefined)for(i=t.target;i!=undefined;){if(i.component!=null)if(u=i.component,u.Behavior.Name=="in"){u.NotifyTagChanged();break}else break;i=i.parentElement}else{if(u=t.target.component,t.attributeName!=undefined){if(i=t.target,t.attributeName=="style"&&i.laststyle==i.getAttribute("style"))continue;u.NotifyTagChanged()}for(r=0;r<t.removedNodes.length;r++)u.NotifyRemoved(t.removedNodes[r]);for(r=0;r<t.addedNodes.length;r++)u.NotifyAdded(t.addedNodes[r])}});document.readyState==="complete"?h():window.addEventListener("load",function(){h()});n.Config={ResizeDelay:4,DevToolsTreshhold:160,IfDevToolsOpenRefresh:!0,DevToolsOpenRefreshDelay:400,VerifyStyleSheetPeriodicaly:!1,VerifyStyleSheetPeriodicalyDelay:1e3};n.Log={LayoutRefreshed:0,ReadedCssProperties:0,AddedElements:0,RemovedElements:0,RootMeasuresNotified:0,RootScrollMeasureAgain:0,LogicalMeasureAgain:0,BehaviorMeasureAgain:0,Measures:0,RootArrangesNotified:0,BehaviorArranges:0,Arranges:0,Print:function(){console.log("LayoutRefreshed: "+n.Log.LayoutRefreshed.toString()+";\nReadedCssProperties: "+n.Log.ReadedCssProperties.toString()+";\nAddedElements: "+n.Log.AddedElements.toString()+";\nRemovedElements: "+n.Log.RemovedElements.toString()+";\nRootMeasuresNotified: "+n.Log.RootMeasuresNotified.toString()+";\nRootScrollRemeasure: "+n.Log.RootScrollMeasureAgain.toString()+";\nLogicalRemeasure: "+n.Log.LogicalMeasureAgain.toString()+";\nBehaviorRemeasure: "+n.Log.BehaviorMeasureAgain.toString()+";\nMeasures: "+n.Log.Measures.toString()+";\nRootArrangesNotified: "+n.Log.RootArrangesNotified.toString()+";\nBehaviorArranges: "+n.Log.BehaviorArranges.toString()+";\nArranges: "+n.Log.Arranges.toString())}}}(HtmlAlign||(HtmlAlign={}));